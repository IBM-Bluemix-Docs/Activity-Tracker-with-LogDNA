---

copyright:
  years: 2019
lastupdated: "2019-04-04"

keywords: IBM Cloud, LogDNA, Activity Tracker, search, filter, events

subcollection: logdnaat

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:codeblock: .codeblock}
{:tip: .tip}
{:download: .download}
{:important: .important}
{:note: .note}


# カスタム・ビューの作成
{: #views.md}

{{site.data.keyword.at_full_notm}} の Web UI を使用して、検索基準やフィルター基準を適用することで、カスタム・ビューで表示されるイベントを定義できます。
{:shortdesc}


## 前提条件
{: #views_prereqs}

開始する前に、自分のユーザー ID に Web UI を起動してイベントを表示するための権限があるか確認します。次に、[Web UI に移動します](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-launch#launch)。

**注:** ポリシーを管理するには、{{site.data.keyword.at_full_notm}} サービスの管理者または {{site.data.keyword.at_full_notm}} インスタンスの管理者であるか、アカウントの IAM 権限が必要です。

以下の表は、ユーザーが {{site.data.keyword.at_full_notm}} の Web UI を起動してイベントを表示、検索、フィルタリングするために最低限必要なポリシーを示しています。

| 役割                      | 付与される許可            |
|---------------------------|-------------------------------|  
| プラットフォーム役割: `ビューアー`     | ユーザーが「プログラム識別情報」ダッシュボードでサービス・インスタンスのリストを表示できるようにします。 |
| サービス役割: `リーダー`      | ユーザーが Web UI を起動して Web UI にイベントを表示できるようにします。  |
{: caption="表 1. IAM ポリシー" caption-side="top"} 

ユーザーに対してこれらのポリシーを構成する方法について詳しくは、[ユーザー許可をユーザーまたはサービス ID に付与する](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-iam_view_events#iam_view_events)を参照してください。



## ステップ 1. イベントをフィルタリングする
{: #views_step1}

ソース、アプリケーション、およびログ・レベルでイベントをフィルタリングできます。 

* ソースとして、ホスト、コンピューター、仮想マシン、または Heroku アプリを指定できます。
* アプリケーションは、ログ・ファイル、プログラム、またはコンテナーを意味します。
* ログ・レベルの例としては、INFO、DEBUG、ERROR があります。

ログをフィルタリングするには、以下のステップを実行します。

1. Web UI で、**「ビュー」**アイコン ![構成アイコン](images/views.png "構成アイコン") をクリックします。
2. **「すべて (Everything)」**または 1 つのビューを選択します。
3. **「すべてのタグ (All Tags)」**を展開すると、使用可能なタグのリストが表示されます。その後、目的のものを選択します。
4. **「すべてのソース (All Sources)」**を展開すると、使用可能なソースのリストが表示されます。その後、目的のものを選択します。
5. **「すべてのアプリ (All Apps)」**を展開すると、使用可能なアプリのリストが表示されます。その後、目的のものを選択します。
6. **「すべてのレベル (All Levels)」**を展開すると、使用可能なレベルのリストが表示されます。その後、目的のものを選択します。

フィルターを適用すると、ビューの名前が**「保存されていないビュー (Unsaved View)」**に変わっていることがわかります。

**注:** 各セクションで、複数のオプションを 1 つのグループにまとめることができます。 タグ、ソース、アプリ、レベルをグループ化して、他のカスタム・ビューでデータをフィルタリングするときに、これらのグループを再利用してください。

グループを作成するには、複数の値を選択します。 次に、**「グループとして保存 (Save as group)」**をクリックします。 グループの名前を入力し、保存します。


## ステップ 2. イベントを検索する
{: #views_step2}

イベントを検索するとき、そのビューで構成されたすべてのフィルターと時間照会が検索で適用されます。

単純検索 (単一語ストリング検索)、複合検索 (複数の検索語と演算子)、フィールド検索 (ログ行を解析できる場合) などを行えます。 詳しくは、[LogDNA 資料の「How to Search Logs」 ![外部リンク・アイコン](../../icons/launch-glyph.svg "外部リンク・アイコン")](https://docs.logdna.com/docs/search){:new_window} を参照してください。

**注:** AND 演算子と OR 演算子は大/小文字が区別されるため、大文字にする必要があります。

検索基準を適用すると、ビューの名前が**「保存されていないビュー (Unsaved View)」**に変わっていることがわかります。



## ステップ 3. カスタム・ビューを作成する
{: #views_step3}

時間フレーム、フィルター、検索基準を**「すべて (Everything)」**ビューまたは既存のカスタム・ビューに適用した後に、以下のステップを実行して結果をカスタム・ビューとして保存します。

1. Web UI で、**「保存されていないビュー (Unsaved View)」**をクリックします。
2. **「新規ビュー/アラートとして保存 (Save as new view / alert)」**を選択します。*「新規ビューの作成 (Create new view)」*ページが開きます。
3. *「名前」* フィールドにビューの名前を入力します。
4. 必要に応じて、カテゴリーを追加します。 名前を入力してから、**「これを新規ビューのカテゴリーとして追加 (Add this as new view category)」**をクリックします。
5. 必要に応じて、アラートをアタッチします。 アラートを構成するための新しいセクションが表示されます。
6. **「ビューを保存 (Save View)」**をクリックします。




